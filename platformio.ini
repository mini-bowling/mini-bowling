; PlatformIO Project Configuration File
; https://docs.platformio.org/page/projectconf.html
;
; Four environments â€” one per Arduino sketch.
; In CLion, select the target from the build-configuration dropdown
; (top-right corner), e.g. "PlatformIO | everything".
;
; Build a specific env from the terminal:
;   pio run -e everything
;   pio run -e master_test -t upload

[platformio]
default_envs = everything
; src_dir = . means the project root; build_src_filter below selects per-sketch files
src_dir = .

; ---------------------------------------------------------------------------
; Shared settings inherited by every environment
; ---------------------------------------------------------------------------
[common]
platform = atmelavr
board    = megaatmega2560
framework = arduino
lib_deps =
    adafruit/Adafruit NeoPixel
    waspinator/AccelStepper
    Servo

; ---------------------------------------------------------------------------
; Production firmware
; ---------------------------------------------------------------------------
[env:everything]
extends = common
build_src_filter = -<*> +<Everything/*>

; ---------------------------------------------------------------------------
; Interactive component test/calibration script
; ---------------------------------------------------------------------------
[env:master_test]
extends = common
build_src_filter = -<*> +<Master_Test/*>

; ---------------------------------------------------------------------------
; Standalone turret-homing sketch
; ---------------------------------------------------------------------------
[env:homing]
extends = common
build_src_filter = -<*> +<Homing/*>

; ---------------------------------------------------------------------------
; AutoBowl variant firmware
; ---------------------------------------------------------------------------
[env:autobowl]
extends = common
build_src_filter = -<*> +<autobowl_pinsetter/*>
